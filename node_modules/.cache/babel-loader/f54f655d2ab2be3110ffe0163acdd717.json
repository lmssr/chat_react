{"ast":null,"code":"'use strict';\n\nconst fs = require('fs');\n\nconst util = require('util');\n\nconst is = require('@sindresorhus/is');\n\nconst isFormData = require('./is-form-data');\n\nmodule.exports = async options => {\n  const body = options.body;\n\n  if (options.headers['content-length']) {\n    return Number(options.headers['content-length']);\n  }\n\n  if (!body && !options.stream) {\n    return 0;\n  }\n\n  if (is.string(body)) {\n    return Buffer.byteLength(body);\n  }\n\n  if (isFormData(body)) {\n    return util.promisify(body.getLength.bind(body))();\n  }\n\n  if (body instanceof fs.ReadStream) {\n    const _ref = await util.promisify(fs.stat)(body.path),\n          size = _ref.size;\n\n    return size;\n  }\n\n  return null;\n};","map":null,"metadata":{},"sourceType":"script"}